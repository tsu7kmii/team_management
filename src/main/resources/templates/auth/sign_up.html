<html xmlns:th="http://www.thymeleaf.org"></html>
<head th:replace="~{common/common :: meta_header('Sign up management',~{::link},~{::script})}">
<head>
	<link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css"
    />
    <script
      src="https://code.jquery.com/jquery-3.7.0.min.js"
      integrity="sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g="
      crossorigin="anonymous"
    ></script>
</head>
<body>
    <div th:replace="~{common/common :: nav}"></div>
    <div th:replace="~{common/common :: pagetitle}"></div>

    

    <br>

    <form th:action="@{/user_register}" method="post" th:object="${signupValidation}">

        <div>
			<label for="text" class="form-name">Create Your Account</label>
		</div>

        <div>
            <label for="name">Name : </label>
            <input type="text" name="name" id="name" th:value="${signupValidation.name}" autocomplete="off">
        </div>
        <div th:if="${#fields.hasErrors('name')}" th:errors="${signupValidation.name}" class="error-message"></div>

        <div>
            <label for="email">Email : </label>
            <input type="email" name="email" id="email" th:value="${signupValidation.email}" autocomplete="off">
        </div>
        <div th:if="${#fields.hasErrors('email')}" th:errors="${signupValidation.email}" class="error-message"></div>

        <div>
            <label for="password">Password : </label>
            <div class="position-relative">
                <input type="password" name="password" th:value="${signupValidation.password}" pattern="[A-Za-z0-9]*" title="半角英数字のみを入力してください" autocomplete="off" id="inputPassword" class="form-control">
                <i id="eyeIcon" class="bi bi-eye translate-middle position-absolute top-50 end-0"></i>
            </div>
        </div>
        <div th:if="${#fields.hasErrors('password')}" th:errors="${signupValidation.password}" class="error-message"></div>

        <button type="submit">SIGN UP</button>

    </form>

    <script>
		// eyeIconのclickクリックイベント
		$("#eyeIcon").on("click", () => {
		  // eyeIconのclass切り替え
		  $("#eyeIcon").toggleClass("bi-eye-slash bi-eye");
  
		  // inputのtype切り替え
		  if ($("#inputPassword").attr("type") == "password") {
			$("#inputPassword").attr("type", "text");
		  } else {
			$("#inputPassword").attr("type", "password");
		  }
		});
	</script>

</body>
</html>